<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
      ul {
        list-style: none;
        padding: 0;
        width: 200px;
        text-align: center;
        box-sizing: border-box;
        line-height: 32px;
      }
      .menu > li .title {
        display: block;
        /* width: 200px; */
        height: 32px;
        background-color: #ec8734;
        cursor: pointer;
      }
      /* .menu > li .submenu li {
        background-color: #fff;
      } */
      .hidden {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="wrap" id="wrap">
      <ul class="menu"></ul>
      <!-- <ul class="menu">
        <li>
          <span class="title"> 菜单1 </span>
          <ul class="submenu">
            <li>商品1</li>
            <li>商品2</li>
            <li>商品3</li>
            <li>商品4</li>
          </ul>
        </li>
        <li>
          <span class="title"> 菜单2 </span>
          <ul class="submenu">
            <li>商品1</li>
            <li>商品2</li>
            <li>商品3</li>
            <li>商品4</li>
          </ul>
        </li>
        <li>
          <span class="title"> 菜单3 </span>
          <ul class="submenu">
            <li>商品1</li>
            <li>商品2</li>
            <li>商品3</li>
            <li>商品4</li>
          </ul>
        </li>
      </ul> -->
    </div>

    <script>
      var menu = [
        {
          name: "菜单一",
          children: ["商品一", "商品二", "商品三", "商品四"],
        },
        {
          name: "菜单二",
          children: ["商品一", "商品二", "商品三", "商品四"],
        },
        {
          name: "菜单三",
          children: ["商品一", "商品二", "商品三", "商品四"],
        },
        {
          name: "菜单四",
          children: ["商品一", "商品二", "商品三", "商品四"],
        },
      ];
      var ulMenu = document.querySelector(".menu");
      menu.forEach(function (item) {
        var li = document.createElement("li");
        li.innerHTML = `<span class="title"> ${item.name} </span>`;
        // var span = document.createElement("span");
        // span.classList.add(".title");

        var ulSubMenu = document.createElement("ul");
        ulSubMenu.classList.add(".submenu");
        // ulSubMenu.style.backgroundColor = "#fff";
        ulSubMenu.style.border = "1px solid #ccc";

        item.children.forEach(function (item) {
          var subLi = document.createElement("li");
          subLi.innerText = item;
          ulSubMenu.appendChild(subLi);
        });

        li.appendChild(ulSubMenu);
        ulMenu.appendChild(li);
      });
      //   var spans = document.querySelectorAll(".title");
      ulMenu.onclick = function (e) {
        if (e.target.tagName === "SPAN") {
          //   e.target.nextElementSibling.classList.toggle("hidden");

          if (e.target.nextElementSibling.classList.contains("hidden")) {
            e.target.nextElementSibling.classList.remove("hidden");
          } else {
            e.target.nextElementSibling.classList.add("hidden");
          }
        }
      };
    </script>
  </body>
</html>
